[tool.poetry]
name =  "dbt-core"
version = "1.4.0a1"
description = """\
  With dbt, data analysts and engineers can build \
  analytics the way engineers build applications.\
  """
authors = [
  "dbt Labs <info@dbtlabs.com>",
]
license = "Apache-2.0"
readme = "README.md"

packages = [
  { include = "dbt", from = "core" },
]
include = [
  { path = "core/dbt/py.typed" },
  { path = "core/dbt/include/**/.gitkeep" },
  { path = "core/dbt/include/**/.gitignore" },
  { path = "core/dbt/include/**/*.html" },
  { path = "core/dbt/include/**/*.md" },
  { path = "core/dbt/include/**/*.py" },
  { path = "core/dbt/include/**/*.sql" },
  { path = "core/dbt/include/**/*.yml" },
]

homepage = "https://getdbt.com"
repository = "https://github.com/dbt-labs/dbt-core"
documentation = "https://docs.getdbt.com/"

classifiers = [
  "Development Status :: 5 - Production/Stable",
  "License :: OSI Approved :: Apache Software License",
  "Operating System :: MacOS :: MacOS X",
  "Operating System :: Microsoft :: Windows",
  "Operating System :: POSIX :: Linux",
  "Programming Language :: Python :: 3.7",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
]

[tool.poetry.dependencies]
python = "^3.7.2"
Jinja2 = "==3.1.2"
agate = ">=1.6,<1.6.4"
click = ">=7.0,<9"
colorama = ">=0.3.9,<0.4.6"
hologram = ">=0.0.14,<=0.0.15"
isodate = ">=0.6,<0.7"
logbook = ">=1.5,<1.6"
mashumaro = { version = "==3.0.4", extras = ["msgpack"] }
minimal-snowplow-tracker = "==0.0.2"
networkx = [
  { version = ">=2.3,<2.8.1", python = "<3.8" },
  { version = ">=2.3,<3", python = ">=3.8" },
]
packaging = ">=20.9,<22.0"
sqlparse = ">=0.2.3,<0.5"
dbt-extractor = "~=0.4.1"
typing-extensions = ">=3.7.4"
pathspec = "~=0.9.0"
# the following are all to match snowflake-connector-python
requests = "<3.0.0"
idna = ">=2.5,<4"
cffi = ">=1.9,<2.0.0"
pyyaml = ">=6.0"

[tool.poetry.scripts]
dbt = "dbt.main:main"

[tool.poetry.urls]
"Blog" = "https://www.getdbt.com/blog/"
"Changelog" = "https://github.com/dbt-labs/dbt-core/blob/main/CHANGELOG.md"
"Discourse" = "https://discourse.getdbt.com/"
"Events" = "https://www.getdbt.com/events/"
"Issues" = "https://github.com/dbt-labs/dbt-core/issues/new"
"Slack" = "https://www.getdbt.com/community/"
"Twitter" = "https://twitter.com/dbt_labs"
"YouTube" = "https://www.youtube.com/c/dbt-labs"

[tool.mypy]
# TODO: widen range of files as we fix issues
files = 'core/dbt'
mypy_path = "third-party-stubs/"
namespace_packages = true

[tool.black]
# TODO: remove global exclusion of tests when testing overhaul is complete
force-exclude = "test"
line-length = 99
target-version = ["py38"]

[build-system]
requires = ["poetry-core>=1.2.0"]
build-backend = "poetry.core.masonry.api"
